import { HorizontalBox } from "std-widgets.slint";
import { Theme } from "../theme.slint";

// Status Bar
export component StatusBar inherits Rectangle {
    in property <string> status: "READY";
    in property <bool> is-busy: false;
    in property <string> total-size: "0 GB";
    in property <int> total-items: 0;
    
    height: 48px;
    background: rgba(15, 15, 30, 0.95);
    
    HorizontalLayout {
        padding-left: 20px;
        padding-right: 20px;
        spacing: 20px;
        alignment: center;
        
        // Status indicator
        HorizontalLayout {
            spacing: 8px;
            
            Rectangle {
                width: 10px;
                height: 10px;
                border-radius: 5px;
                background: is-busy ? Theme.warning : Theme.success;
                
                // Pulse animation when busy
                animate background {
                    duration: 1s;
                    easing: ease-in-out;
                    iteration-count: -1;
                }
            }
            
            Text {
                text: status;
                font-size: 12px;
                color: Theme.text-secondary;
            }
        }
        
        Rectangle {
            width: 1px;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
        }
        
        if total-items > 0: Text {
            text: "üì¶ " + total-size;
            font-size: 12px;
            color: Theme.primary;
        }
        
        if total-items > 0: Rectangle {
            width: 1px;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
        }
        
        if total-items > 0: Text {
            text: "üìÅ " + total-items + " items";
            font-size: 12px;
            color: Theme.secondary;
        }
        
        Rectangle {
            // Spacer
            width: 100%;
        }
    }
}
