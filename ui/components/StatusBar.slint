import { Theme } from "../theme.slint";

// Status Bar
export component StatusBar inherits Rectangle {
    in property <string> status: "READY";
    in property <bool> is-busy: false;
    in property <string> total-size: "0 GB";
    in property <int> total-items: 0;
    
    // Propriedade privada para cor do status
    private property <color> status-color: is-busy ? Theme.warning : Theme.success;
    
    height: 48px;
    background: rgba(15, 15, 30, 0.95);
    
    // Acessibilidade
    accessible-role: text;
    accessible-label: "Status: " + status + (total-items > 0 ? ", Total: " + total-size : "");
    
    HorizontalLayout {
        padding-left: 20px;
        padding-right: 20px;
        spacing: 20px;
        alignment: center;
        
        // Status indicator
        HorizontalLayout {
            spacing: Theme.spacing-small;
            
            status-indicator := Rectangle {
                width: 10px;
                height: 10px;
                border-radius: 5px;
                background: status-color;
                
                // Pulse animation when busy
                animate background {
                    duration: 1s;
                    easing: ease-in-out;
                    iteration-count: -1;
                }
            }
            
            Text {
                text: status;
                font-size: 12px;
                color: Theme.text-secondary;
                vertical-alignment: center;
            }
        }
        
        // Divider
        Rectangle {
            width: 1px;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
        }
        
        // Total size display
        if total-items > 0: Text {
            text: "üì¶ " + total-size;
            font-size: 12px;
            color: Theme.primary;
            vertical-alignment: center;
        }
        
        if total-items > 0: Rectangle {
            width: 1px;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
        }
        
        // Total items display
        if total-items > 0: Text {
            text: "üìÅ " + total-items + " items";
            font-size: 12px;
            color: Theme.secondary;
            vertical-alignment: center;
        }
        
        // Spacer
        Rectangle {
            horizontal-stretch: 1;
        }
    }
}
