import { StandardButton, VerticalBox, HorizontalBox } from "std-widgets.slint";

// Diálogo de confirmação usando Material Design
export component ConfirmDialog inherits Rectangle {
    in property <bool> show: false;
    
    callback confirmed;
    callback cancelled;
    
    visible: show;
    
    // Overlay
    background: rgba(0, 0, 0, 0.5);
    
    // Click fora do modal para cancelar
    TouchArea {
        clicked => {
            cancelled();
        }
    }
    
    // Modal usando Material Design
    Rectangle {
        width: 480px;
        height: 280px;
        x: (parent.width - self.width) / 2;
        y: (parent.height - self.height) / 2;
        border-radius: 8px;
        drop-shadow-blur: 24px;
        drop-shadow-color: rgba(0, 0, 0, 0.3);
        drop-shadow-offset-y: 8px;
        
        // Prevenir propagação do click
        TouchArea { }
        
        VerticalBox {
            padding: 24px;
            spacing: 20px;
            
            // Título
            HorizontalBox {
                spacing: 12px;
                
                Text {
                    text: "⚠️";
                    font-size: 32px;
                    vertical-alignment: center;
                }
                
                Text {
                    text: "Confirm Cleanup";
                    font-size: 20px;
                    font-weight: 600;
                    vertical-alignment: center;
                }
            }
            
            // Conteúdo
            Text {
                text: "Are you sure you want to delete the selected files?\n\nThis action cannot be undone.";
                wrap: word-wrap;
                font-size: 14px;
            }
            
            Rectangle {
                height: 12px;
            }
            
            // Botões
            HorizontalBox {
                spacing: 12px;
                alignment: end;
                
                StandardButton {
                    kind: cancel;
                    clicked => {
                        cancelled();
                    }
                }
                
                StandardButton {
                    kind: ok;
                    clicked => {
                        confirmed();
                    }
                }
            }
        }
    }
}
