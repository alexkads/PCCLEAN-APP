import { CheckBox, HorizontalBox, VerticalBox } from "std-widgets.slint";
import { CategoryData } from "../types.slint";

// Card de categoria usando Material Design
export component CategoryCard inherits Rectangle {
    in property <CategoryData> data;
    in-out property <bool> selected: data.selected;
    
    callback selection-changed(bool);
    
    height: 80px;
    border-radius: 8px;
    border-width: 1px;
    border-color: #e0e0e0;
    background: transparent;
    
    // Acessibilidade
    accessible-role: checkbox;
    accessible-label: data.name + ", " + data.items-count + " items, " + data.total-size;
    accessible-checked: selected;
    
    states [
        selected when selected: {
            background: rgba(33, 150, 243, 0.08);
            border-color: #2196f3;
        }
    ]
    
    HorizontalBox {
        padding: 16px;
        spacing: 16px;
        
        CheckBox {
            checked <=> selected;
            toggled => {
                selection-changed(self.checked);
            }
        }
        
        Text {
            text: data.icon;
            font-size: 28px;
            vertical-alignment: center;
            width: 40px;
        }
        
        VerticalBox {
            spacing: 4px;
            
            Text {
                text: data.name;
                font-size: 16px;
                font-weight: 600;
                vertical-alignment: center;
            }
            
            Text {
                text: data.items-count + " items â€¢ " + data.total-size;
                font-size: 13px;
                vertical-alignment: center;
                opacity: 0.7;
            }
        }
        
        Rectangle {
            horizontal-stretch: 1;
        }
        
        // Size badge
        Text {
            text: data.total-size;
            font-size: 16px;
            font-weight: 700;
            vertical-alignment: center;
            color: #2196f3;
        }
    }
}
